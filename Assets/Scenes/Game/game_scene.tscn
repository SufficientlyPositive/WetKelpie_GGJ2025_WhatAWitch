[gd_scene load_steps=28 format=3 uid="uid://dulxilljef5ad"]

[ext_resource type="Script" path="res://Assets/Scenes/Game/game_main.gd" id="1_2dtmn"]
[ext_resource type="Script" path="res://Assets/Scenes/Game/game_scene.gd" id="1_o8wbe"]
[ext_resource type="Script" path="res://Assets/Scenes/Game/game_ui.gd" id="3_m2qu8"]
[ext_resource type="Texture2D" uid="uid://c0gx8waw6vpf7" path="res://Assets/Images/Background Scroll.png" id="3_muc21"]
[ext_resource type="FontFile" uid="uid://4au5igp3qy3w" path="res://Assets/Fonts/grandstander/Grandstander-Regular.ttf" id="4_1iwba"]
[ext_resource type="Texture2D" uid="uid://dficnt53eks1u" path="res://Assets/Images/Background Columns.png" id="4_5efoe"]
[ext_resource type="Theme" uid="uid://cny8msiucnohq" path="res://Assets/UI/Themes/menu_button_theme.tres" id="4_w2t0c"]
[ext_resource type="Texture2D" uid="uid://c3wvr7u24rsjm" path="res://Assets/Images/Bckground centre shadows.png" id="5_3jo83"]
[ext_resource type="Script" path="res://Assets/Scenes/Game/recipe_manager.gd" id="5_tkifj"]
[ext_resource type="Texture2D" uid="uid://6jgh3wgkufuj" path="res://Assets/Images/Programmer Art/wood_plank.png" id="7_ri1rv"]
[ext_resource type="FontFile" uid="uid://cwltetxo7ybuy" path="res://Assets/Fonts/grandstander/Grandstander-Bold.ttf" id="7_rud6v"]
[ext_resource type="Script" path="res://Assets/Scenes/Game/player_character.gd" id="8_euk73"]
[ext_resource type="Texture2D" uid="uid://cp36q5bxonfox" path="res://Assets/Images/Programmer Art/witch_sprite.png" id="8_m8um2"]
[ext_resource type="PackedScene" uid="uid://chrrjtg6y86xk" path="res://Assets/Scenes/Enemy/enemy_control.tscn" id="9_37kig"]
[ext_resource type="Texture2D" uid="uid://3elln2fcduhb" path="res://Assets/Images/Programmer Art/shield_sprite.png" id="9_e0jhf"]
[ext_resource type="Texture2D" uid="uid://bkdqqkw1uo7oj" path="res://Assets/Images/Programmer Art/cauldron_sprite.png" id="10_n75eg"]
[ext_resource type="Script" path="res://Assets/Scenes/Game/everything_killbox.gd" id="13_4tnrd"]
[ext_resource type="Script" path="res://Assets/Scenes/Game/ingredient_spawner.gd" id="14_xe6ob"]
[ext_resource type="PackedScene" uid="uid://bu3dpmmojpwr6" path="res://Assets/Scenes/Bubble/bubble_control.tscn" id="15_44rxp"]
[ext_resource type="Script" path="res://Assets/Scenes/Game/spawning_area.gd" id="16_1au7j"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_e542f"]
size = Vector2(984.521, 41)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_o5giy"]
size = Vector2(1157, 103)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_hbfva"]
size = Vector2(156.997, 20)

[sub_resource type="SpriteFrames" id="SpriteFrames_papvs"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("8_m8um2")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_4hrys"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("9_e0jhf")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_aalth"]
size = Vector2(180.509, 95)

[sub_resource type="SpriteFrames" id="SpriteFrames_5neq7"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("10_n75eg")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[node name="GameMain" type="Node" node_paths=PackedStringArray("game_scene", "game_canvas")]
script = ExtResource("1_2dtmn")
game_scene = NodePath("GameScene")
game_canvas = NodePath("GameCanvas")

[node name="GameCanvas" type="Node" parent="." node_paths=PackedStringArray("pause_menu")]
script = ExtResource("3_m2qu8")
pause_menu = NodePath("PauseMenu")

[node name="BackBackground" type="TextureRect" parent="GameCanvas"]
z_index = -1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 313.0
offset_right = -408.0
offset_bottom = -60.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("3_muc21")
expand_mode = 1

[node name="LeftColumn" type="TextureRect" parent="GameCanvas"]
z_index = -1
offset_right = 390.0
offset_bottom = 1080.0
texture = ExtResource("4_5efoe")

[node name="RightColumn" type="TextureRect" parent="GameCanvas"]
z_index = -1
anchors_preset = 6
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
offset_left = -407.0
offset_top = -540.0
offset_bottom = 540.0
grow_horizontal = 0
grow_vertical = 2
texture = ExtResource("4_5efoe")
expand_mode = 1

[node name="Background" type="TextureRect" parent="GameCanvas"]
z_index = -1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -570.0
offset_top = -540.0
offset_right = 570.0
offset_bottom = 540.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("5_3jo83")

[node name="CauldronContents" type="TextureRect" parent="GameCanvas"]
offset_left = 13.0
offset_top = 63.0
offset_right = 359.0
offset_bottom = 941.0

[node name="VBoxContainer" type="VBoxContainer" parent="GameCanvas/CauldronContents"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -140.5
offset_top = -328.5
offset_right = 140.5
offset_bottom = 328.5
grow_horizontal = 2
grow_vertical = 2

[node name="Label" type="Label" parent="GameCanvas/CauldronContents/VBoxContainer"]
custom_minimum_size = Vector2(0, 100)
layout_mode = 2
theme_override_fonts/font = ExtResource("4_1iwba")
theme_override_font_sizes/font_size = 32
text = "In your cauldron..."
horizontal_alignment = 1

[node name="I0" type="TextureRect" parent="GameCanvas/CauldronContents/VBoxContainer"]
custom_minimum_size = Vector2(200, 200)
layout_mode = 2
size_flags_horizontal = 4
expand_mode = 2

[node name="I1" type="TextureRect" parent="GameCanvas/CauldronContents/VBoxContainer"]
custom_minimum_size = Vector2(200, 200)
layout_mode = 2
size_flags_horizontal = 4
expand_mode = 2

[node name="I2" type="TextureRect" parent="GameCanvas/CauldronContents/VBoxContainer"]
custom_minimum_size = Vector2(200, 200)
layout_mode = 2
size_flags_horizontal = 4
expand_mode = 2

[node name="Recipes" type="NinePatchRect" parent="GameCanvas"]
offset_left = 1528.0
offset_top = 28.0
offset_right = 1901.0
offset_bottom = 960.0
patch_margin_left = 91
patch_margin_top = 61
patch_margin_right = 82
patch_margin_bottom = 253
script = ExtResource("5_tkifj")

[node name="MarginContainer" type="MarginContainer" parent="GameCanvas/Recipes"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 60
theme_override_constants/margin_top = 60
theme_override_constants/margin_right = 60
theme_override_constants/margin_bottom = 60

[node name="RecipeCards" type="VBoxContainer" parent="GameCanvas/Recipes/MarginContainer"]
layout_mode = 2

[node name="CurrentRecipe" type="VBoxContainer" parent="GameCanvas/Recipes/MarginContainer"]
layout_mode = 2
alignment = 2

[node name="Label" type="Label" parent="GameCanvas/Recipes/MarginContainer/CurrentRecipe"]
custom_minimum_size = Vector2(0, 50)
layout_mode = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_fonts/font = ExtResource("7_rud6v")
theme_override_font_sizes/font_size = 30
text = "BONUS POINTS!"
horizontal_alignment = 1

[node name="PauseMenu" type="ColorRect" parent="GameCanvas"]
visible = false
z_index = 100
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.25098)

[node name="PauseMenuButtons" type="VBoxContainer" parent="GameCanvas/PauseMenu"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -250.0
offset_top = -114.0
offset_right = 250.0
offset_bottom = 114.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/separation = 20

[node name="ContinueButton" type="Button" parent="GameCanvas/PauseMenu/PauseMenuButtons"]
layout_mode = 2
theme = ExtResource("4_w2t0c")
text = "Continue"

[node name="QuitToMenuButton" type="Button" parent="GameCanvas/PauseMenu/PauseMenuButtons"]
layout_mode = 2
theme = ExtResource("4_w2t0c")
text = "Quit to Menu"

[node name="GameScene" type="Node2D" parent="." node_paths=PackedStringArray("player_character", "ingredient_spawner", "enemy_spawner")]
process_mode = 1
scale = Vector2(0.987282, 1)
script = ExtResource("1_o8wbe")
player_character = NodePath("PlayerCharacter")
ingredient_spawner = NodePath("IngredientSpawner")
enemy_spawner = NodePath("EnemySpawner")

[node name="SpawningArea" type="Area2D" parent="GameScene" node_paths=PackedStringArray("rectangle")]
collision_layer = 0
collision_mask = 0
script = ExtResource("16_1au7j")
rectangle = NodePath("Area")

[node name="Area" type="CollisionShape2D" parent="GameScene/SpawningArea"]
position = Vector2(954.135, -30.5)
shape = SubResource("RectangleShape2D_e542f")

[node name="EnemySpawner" parent="GameScene" node_paths=PackedStringArray("spawning_area") instance=ExtResource("9_37kig")]
spawning_area = NodePath("../SpawningArea")

[node name="IngredientSpawner" type="Node2D" parent="GameScene" node_paths=PackedStringArray("spawning_area")]
z_index = 2
script = ExtResource("14_xe6ob")
spawning_area = NodePath("../SpawningArea")

[node name="BubbleControl" parent="GameScene" instance=ExtResource("15_44rxp")]
z_index = 4

[node name="ForegroundWalkable" type="StaticBody2D" parent="GameScene"]
position = Vector2(960, 540)

[node name="PlankSprite" type="Sprite2D" parent="GameScene/ForegroundWalkable"]
position = Vector2(0, 6.10352e-05)
texture = ExtResource("7_ri1rv")

[node name="ForegroundCollision" type="CollisionShape2D" parent="GameScene/ForegroundWalkable"]
position = Vector2(-4.5, 489.5)
shape = SubResource("RectangleShape2D_o5giy")

[node name="ForegroundCollision2" type="CollisionShape2D" parent="GameScene/ForegroundWalkable"]
position = Vector2(-4.5, 489.5)
shape = SubResource("RectangleShape2D_o5giy")

[node name="PlayerCharacter" type="CharacterBody2D" parent="GameScene"]
unique_name_in_owner = true
z_index = 3
position = Vector2(960, 913)
scale = Vector2(0.8, 0.8)
script = ExtResource("8_euk73")

[node name="PlayerPhysicsCollision" type="CollisionShape2D" parent="GameScene/PlayerCharacter"]
position = Vector2(-3.33313, 65)
shape = SubResource("RectangleShape2D_hbfva")

[node name="PlayerHurtBox" type="Area2D" parent="GameScene/PlayerCharacter"]
collision_layer = 2
collision_mask = 2

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="GameScene/PlayerCharacter/PlayerHurtBox"]
polygon = PackedVector2Array(-52.4579, -6, -92.9732, 23, -82.8444, 77, 28.5726, 77, 45.7916, 52, 44.7787, 30, 26.5469, -39, 58.9591, -92, -33.2131, -113, -28.1487, -60)

[node name="PlayerSprite" type="AnimatedSprite2D" parent="GameScene/PlayerCharacter"]
sprite_frames = SubResource("SpriteFrames_papvs")
autoplay = "default"

[node name="ShieldSprite" type="AnimatedSprite2D" parent="GameScene/PlayerCharacter"]
sprite_frames = SubResource("SpriteFrames_4hrys")

[node name="Cauldron" type="Area2D" parent="GameScene/PlayerCharacter"]
collision_layer = 4
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="GameScene/PlayerCharacter/Cauldron"]
position = Vector2(-21.1666, -41.5)
shape = SubResource("RectangleShape2D_aalth")

[node name="CauldronSprite" type="AnimatedSprite2D" parent="GameScene/PlayerCharacter/Cauldron"]
position = Vector2(-71.9187, -30)
scale = Vector2(0.866757, 0.8)
sprite_frames = SubResource("SpriteFrames_5neq7")
autoplay = "default"

[node name="EverythingKillbox" type="Area2D" parent="GameScene"]
script = ExtResource("13_4tnrd")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="GameScene/EverythingKillbox"]
polygon = PackedVector2Array(-685.721, 1740, 2687.18, 1740, 2720.6, -567, -695.85, -567, -261.324, -261, 2214.16, -277, 2190.86, 1266, -227.898, 1274, -261.324, -261, -695.85, -572)

[connection signal="pressed" from="GameCanvas/PauseMenu/PauseMenuButtons/ContinueButton" to="." method="toggle_pause"]
[connection signal="pressed" from="GameCanvas/PauseMenu/PauseMenuButtons/QuitToMenuButton" to="." method="quit_to_main_menu"]
[connection signal="body_entered" from="GameScene/EverythingKillbox" to="GameScene/EverythingKillbox" method="_on_killbox_entered"]
